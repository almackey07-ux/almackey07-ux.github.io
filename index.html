<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pike Fishing Trip - Lough Corrib</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',sans-serif;}
body {
    color:white; text-align:center; padding:20px; background:#1b5e20; transition:background 1s;
}

/* RIPPLE OVERLAY */
.ripple {
    position:fixed; top:0; left:0; width:100%; height:100%;
    pointer-events:none; background:radial-gradient(circle,rgba(255,255,255,0.03) 0%,transparent 70%);
    animation:ripple 12s linear infinite; z-index:0;
}
@keyframes ripple {0%{transform:scale(1) translateY(0);}100%{transform:scale(1.1) translateY(-20px);}}

/* HEADER */
h1 { font-size:clamp(2rem,6vw,3rem); text-shadow:0 3px 10px rgba(0,0,0,0.5); z-index:1; position:relative;}
h2 { font-weight:300; margin-bottom:25px; opacity:0.9; z-index:1; position:relative;}

/* COUNTDOWN */
#countdown { display:flex; flex-wrap:wrap; justify-content:center; gap:15px; margin-bottom:35px; z-index:1; position:relative;}
.time-box {background:rgba(255,255,255,0.1);backdrop-filter:blur(8px);border-radius:15px;padding:15px;min-width:80px;box-shadow:0 6px 20px rgba(0,0,0,0.4);}
.time {font-size:clamp(1.2rem,5vw,2.5rem); font-weight:bold;}
.label {font-size:0.9rem; opacity:0.8;}

/* SECTIONS */
.section {margin:30px 0; padding:20px; background:rgba(0,0,0,0.25); border-radius:15px; box-shadow:0 6px 15px rgba(0,0,0,0.3); z-index:1; position:relative;}

/* PIKE ANIMATION */
.pike {
    position:fixed; bottom:40px; font-size:2.5rem; opacity:0.35;
    animation:swim 25s linear infinite;
}
@keyframes swim {0%{left:-150px;transform:scaleX(1);}50%{transform:scaleX(1);}51%{transform:scaleX(-1);}100%{left:110%;transform:scaleX(-1);}}

/* CHECKLIST */
.checklist label {display:block; margin:6px 0; cursor:pointer;}
.checklist input {margin-right:8px;}

/* LEADERBOARD */
.leaderboard div {margin:5px 0; cursor:pointer;}
.leaderboard div:hover{text-decoration:underline;}

/* WEATHER */
.weather {display:flex; justify-content:center; align-items:center; gap:8px; font-size:1.2rem;}
.wind-arrow {display:inline-block; transform:rotate(0deg); transition:transform 1s; font-size:1rem;}

/* AUDIO */
.audio-toggle {margin-top:12px; cursor:pointer; font-size:1rem; color:#a5d6a7;}
</style>
</head>
<body>

<h1>ğŸ£ Pike Fishing Trip â€“ Lough Corrib ğŸ‡®ğŸ‡ª</h1>
<h2>Leaving 7th March at 5:00 AM</h2>

<div id="countdown">
    <div class="time-box"><div id="days" class="time">0</div><div class="label">Days</div></div>
    <div class="time-box"><div id="hours" class="time">0</div><div class="label">Hours</div></div>
    <div class="time-box"><div id="minutes" class="time">0</div><div class="label">Minutes</div></div>
    <div class="time-box"><div id="seconds" class="time">0</div><div class="label">Seconds</div></div>
</div>

<!-- WEATHER -->
<div class="section">
    <h3>ğŸŒ¦ Lough Corrib Weather</h3>
    <div class="weather">
        <span id="weather-icon">â˜€ï¸</span>
        <span id="weather-temp">--Â°C</span>
        <span id="wind-speed">-- km/h</span>
        <span class="wind-arrow" id="wind-arrow">â†‘</span>
    </div>
</div>

<!-- Checklist -->
<div class="section">
    <h3>ğŸ§° Who's Bringing What</h3>
    <div class="checklist">
        <label><input type="checkbox" data-key="rods">Rods</label>
        <label><input type="checkbox" data-key="deadbait">Deadbait</label>
        <label><input type="checkbox" data-key="lures">Lures</label>
        <label><input type="checkbox" data-key="net">Landing Net</label>
        <label><input type="checkbox" data-key="lifejackets">Life Jackets</label>
        <label><input type="checkbox" data-key="flasks">Flasks â˜•</label>
    </div>
</div>

<!-- Leaderboard -->
<div class="section">
    <h3>ğŸ† Who Will Reign As Of The Corrib?</h3>
    <div class="leaderboard">
        <div data-key="1">ğŸ¥‡ Al</div>
        <div data-key="2">ğŸ¥ˆ Keiran ğŸ¤´</div>
        <div data-key="3">ğŸ¥‰ Heno</div>
    </div>
</div>

<div class="footer">Early start. Big pike. Tight lines. ğŸŠ</div>

<!-- Pike Animations -->
<div class="pike" style="animation-delay:0s;">ğŸŠ</div>
<div class="pike" style="animation-delay:6s; font-size:2.2rem;">ğŸŠ</div>
<div class="pike" style="animation-delay:12s; font-size:2.8rem;">ğŸŠ</div>

<!-- Ripple overlay -->
<div class="ripple"></div>

<!-- Audio -->
<audio id="lake-sound" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>
<div class="audio-toggle" id="audio-toggle">ğŸ”Š Toggle Lake Sounds</div>

<script>
// DOM READY
document.addEventListener('DOMContentLoaded',()=>{

// COUNTDOWN
const tripDate = new Date("March 7, 2026 05:00:00").getTime();
setInterval(()=>{
    const now=new Date().getTime();
    const dist=tripDate-now;
    if(dist<=0){document.body.innerHTML="<h1>ğŸ‰ Time to hit Corrib! ğŸ£</h1>"; return;}
    document.getElementById("days").innerText=Math.floor(dist/(1000*60*60*24));
    document.getElementById("hours").innerText=Math.floor((dist%(1000*60*60*24))/(1000*60*60));
    document.getElementById("minutes").innerText=Math.floor((dist%(1000*60*60))/(1000*60));
    document.getElementById("seconds").innerText=Math.floor((dist%(1000*60))/1000);
},1000);

// CHECKLIST LOCALSTORAGE
document.querySelectorAll('.checklist input').forEach(box=>{
    const key=box.dataset.key;
    if(localStorage.getItem('check-'+key)=='true') box.checked=true;
    box.addEventListener('change',()=>{localStorage.setItem('check-'+key,box.checked);});
});

// LEADERBOARD LOCALSTORAGE
document.querySelectorAll('.leaderboard div').forEach(div=>{
    const key=div.dataset.key;
    if(localStorage.getItem('leader-'+key)) div.innerText=localStorage.getItem('leader-'+key);
    div.addEventListener('click',()=>{
        const newName=prompt("Enter new name or catch:",div.innerText);
        if(newName){div.innerText=newName; localStorage.setItem('leader-'+key,newName);}
    });
});

// AUDIO
const audio=document.getElementById('lake-sound');
document.getElementById('audio-toggle').addEventListener('click',()=>{audio.paused?audio.play():audio.pause();});

// WEATHER
async function updateWeather(){
    try{
        const res=await fetch("https://api.open-meteo.com/v1/forecast?latitude=53.45&longitude=-9.23&current_weather=true");
        const data=await res.json();
        const w=data.current_weather;
        if(!w) return;
        const temp=w.temperature ?? '--';
        const wind=w.windspeed ?? '--';
        const windDir=w.winddirection ?? 0;
        const code=w.weathercode ?? 0;
        document.getElementById('weather-temp').innerText=temp+'Â°C';
        document.getElementById('wind-speed').innerText=wind+' km/h';
        document.getElementById('wind-arrow').style.transform='rotate('+windDir+'deg)';

        // Weather icon & background
        let icon='â˜€ï¸', bg='linear-gradient(to bottom,#1b5e20 0%,#2e7d32 30%,#1565c0 100%)';
        if([0].includes(code)){icon='â˜€ï¸'; bg='linear-gradient(to bottom,#1b5e20 0%,#2e7d32 30%,#1565c0 100%)';}
        else if([1,2,3].includes(code)){icon='â›…'; bg='linear-gradient(to bottom,#2e7d32 0%,#4caf50 40%,#1565c0 100%)';}
        else if([45,48,51,53,55,61,63,65,80,81,82].includes(code)){icon='ğŸŒ§ï¸'; bg='linear-gradient(to bottom,#37474f 0%,#607d8b 40%,#1565c0 100%)';}
        else{icon='ğŸŒ«ï¸'; bg='linear-gradient(to bottom,#546e7a 0%,#78909c 40%,#1565c0 100%)';}
        document.getElementById('weather-icon').innerText=icon;
        document.body.style.background=bg;
    }catch(e){console.log(e);}
}
updateWeather();
setInterval(updateWeather,600000); // every 10 minutes

}); // DOMContentLoaded
</script>
</body>
</html>
